# 動作確認手順（知人のスマホから）

## 事前準備

### 1. PC側の準備

#### 開発サーバーの起動

```bash
npm run dev
```

起動が完了すると、以下のような表示が出ます：

```
▲ Next.js 16.0.1 (Turbopack)
  - Local:        http://localhost:3000
  - Network:      http://172.16.7.246:3000  ← このアドレスを使用
```

**重要**: `Network` のアドレスをメモしてください（例: `http://172.16.7.246:3000`）

#### ファイアウォールの確認（macOS）

1. 「システム環境設定」>「セキュリティとプライバシー」>「ファイアウォール」を開く
2. ファイアウォールが有効な場合、「オプション」をクリック
3. Node.jsが許可されているか確認（必要に応じて許可を追加）

### 2. ネットワークの確認

- **PCと知人のスマホが同じWi-Fiネットワークに接続されていることを確認**
- 異なるネットワーク（例: PCは有線、スマホは別のWi-Fi）では接続できません

## スマホからのアクセス手順

### ステップ1: スマホのWi-Fi接続を確認

1. スマホの設定を開く
2. Wi-Fi設定を確認
3. **PCと同じWi-Fiネットワークに接続されていることを確認**

### ステップ2: ブラウザでアクセス

1. スマホのブラウザ（Safari、Chromeなど）を開く
2. アドレスバーに以下を入力（PCで確認したNetworkアドレス）：
   ```
   http://172.16.7.246:3000
   ```
   ※ 実際のアドレスは開発サーバー起動時に表示されるものを使用してください

3. 「移動」または「Go」をタップ

### ステップ3: 動作確認

以下の機能を順番にテストしてください：

1. **テーブル番号入力**
   - テーブル番号（例: `1`）を入力
   - 「次へ」をタップ

2. **人数入力**
   - 人数を入力（例: `2`）
   - 「次へ」をタップ

3. **メニュー選択**
   - メニュー番号を入力（例: `1`でマルゲリータピザ）
   - 「追加」をタップ
   - カートに追加されることを確認

4. **カート操作**
   - 数量の増減ボタンをタップ
   - 「削除」ボタンをタップ
   - 合計金額が正しく表示されることを確認

5. **注文確定**
   - 「注文確定」ボタンをタップ
   - 注文が確定することを確認

6. **会計**
   - 「会計する」ボタンをタップ
   - バーコードが表示されることを確認

## トラブルシューティング

### スマホからアクセスできない場合

#### 1. ネットワーク接続を確認

- PCとスマホが同じWi-Fiネットワークに接続されているか確認
- PCのIPアドレスを確認：
  ```bash
  ifconfig | grep "inet " | grep -v 127.0.0.1
  ```

#### 2. ファイアウォールを確認

macOSの場合：
- 「システム環境設定」>「セキュリティとプライバシー」>「ファイアウォール」
- Node.jsが許可されているか確認

#### 3. 開発サーバーが起動しているか確認

PCのターミナルで以下を確認：
```bash
lsof -ti:3000
```
何も表示されない場合は、サーバーが起動していません。

#### 4. ポート番号を確認

開発サーバー起動時に表示されるNetworkアドレスのポート番号（通常は`3000`）を確認してください。

### カメラ機能が動作しない場合

- ローカルネットワーク経由（HTTP）では、一部のブラウザでカメラ機能が制限される場合があります
- このアプリではカメラ機能は使用していないため、問題ありません

### Firebase接続エラーが発生する場合

- ローカルネットワーク経由では、通常Firebaseは正常に動作します
- エラーが発生する場合は、PCのインターネット接続を確認してください

## テスト項目チェックリスト

- [ ] スマホからアクセスできる
- [ ] テーブル番号を入力できる
- [ ] 人数を入力できる
- [ ] メニュー番号を入力できる
- [ ] カートに商品が追加される
- [ ] 数量を変更できる
- [ ] 商品を削除できる
- [ ] 合計金額が正しく表示される
- [ ] 注文を確定できる
- [ ] 会計バーコードが表示される
- [ ] 画面が適切に表示される（レイアウトが崩れていない）

## 注意事項

- 開発サーバーを停止すると、スマホからアクセスできなくなります
- PCのIPアドレスが変更された場合、新しいNetworkアドレスを確認してください
- 複数のデバイスから同時にアクセスしてテストすることも可能です

